/*  ============================================================================

  Copyright (C) 2006-2016 Talend Inc. - www.talend.com

  This source code is available under agreement available at
  https://github.com/Talend/data-prep/blob/master/LICENSE

  You should have received a copy of the agreement
  along with this program; if not, write to Talend SA
  9 rue Pages 92150 Suresnes, France

  ============================================================================*/

$white-background: rgba(255, 255, 255, 0.7);
$infinite-progression-width: 40%;
@keyframes infinite-progression-keyframes {
	0% { left: -$infinite-progression-width; }
	100% { left: 100% + $infinite-progression-width; }
}


#dataset-progress-modal {
	.modal {
		// modal style & reset
		.modal-window {
			background: $white-background;
			display: flex;
			align-items: center;

			.modal-content {
				box-shadow: none;
				border: none;
			}
		}


		.modal-content {
			padding: 0;
			width: 40%;
			text-align: center;
			background-color: white;
			height: 130px;

			h1 {
				font-size: 14px;
				width: 100%;
				text-align: center;
				font-weight: bold;
				text-transform: inherit;
			}

			ol.steps-list {
				counter-reset: steps;
				margin-bottom: 20px;
				display: inline-block;
				text-align: left;
				padding: 0;

				li {
					list-style-type: none;
					counter-increment: steps;
					margin-bottom: 10px;
					position: relative;

					&:before {
						content: counter(steps) ".";
						border-radius: 60px;
						font-weight: bold;
						margin-right: 5px;
					}

					span {
						padding-right: 100px;
					}

					.step-icon {
						position: absolute;
						right: 0;
						top: 0;
						height: 25px;
						margin-left: -1.6rem;
						visibility: hidden;

						&.complete-icon {
							color: $green;
						}
						&.progress-icon {
							color: $blue;
						}
					}


					&.future {
						opacity: .5;
					}

					&.in-progress {
						.progress-icon {
							visibility: visible;
						}
						> span:after {
							content: " ...";
						}
					}

					&.complete {
						.complete-icon {
							visibility: visible;
						}
					}
				}
			}

			.progress {
				border-radius: 0;
				width: 100%;
				height: 4px;
				background-color: $light-gray;
				box-shadow: inherit;
				margin-bottom: 10px;

				> .progression {
					height: 4px;
					position: absolute;
					background-color: $green;
					transition: width .3s;
				}

				.infinite-progression {
					width: $infinite-progression-width;
					animation: infinite-progression-keyframes 2s infinite;
					animation-timing-function: linear;
					left: -$infinite-progression-width;

					&:nth-of-type(2) {
						-webkit-animation-delay: 1s;
					}
				}
			}
		}
	}
}
