<!--
  ~ ============================================================================
  ~
  ~  Copyright (C) 2006-2018 Talend Inc. - www.talend.com
  ~
  ~  This source code is available under agreement available at
  ~  https://github.com/Talend/data-prep/blob/master/LICENSE
  ~
  ~  You should have received a copy of the agreement
  ~  along with this program; if not, write to Talend SA
  ~  9 rue Pages 92150 Suresnes, France
  ~
  ~ ============================================================================
  -->
<header role="banner" class="playground-header">
    <app-header-bar view-key="'appheaderbar:playground'"
                    search-toggle="$ctrl.state.search.searchToggle"
                    searching="$ctrl.state.search.searching"
                    search-input="$ctrl.state.search.searchInput"
                    search-results="$ctrl.state.search.searchResults"
                    search-focused-section-index="$ctrl.state.search.focusedSectionIndex"
                    search-focused-item-index="$ctrl.state.search.focusedItemIndex" />
</header>
<pure-sub-header-bar
    ng-attr-title="$ctrl.title"
    sub-title="$ctrl.subtitle"
    editable="!$ctrl.state.playground.isReadOnly"
    on-go-back="$ctrl.onClose"
    on-edit="$ctrl.toggleNameEditMode"
    on-submit="$ctrl.editName"
    on-cancel="$ctrl.cancelEdit"
    loading="$ctrl.loading"
    edit-mode="$ctrl.state.playground.nameEditionMode"
    left="$ctrl.PlaygroundService.getSubheaderStatus()"
    right="$ctrl.PlaygroundService.getSubheaderActions()">
</pure-sub-header-bar>

<nav class="playground-sub-header navbar">
    <ul class="playground-sub-header-right nav navbar-nav">
        <li ng-if="$ctrl.preparationPicker">
            <a id="playground-preparation-picker-icon"
               class="btn btn-link"
               role="button"
               ng-click="$ctrl.onPreparationPicker()"
               translate-once-title="CHOOSE_PREPARATION_TO_APPLY">
                <icon name="'talend-dataprep'"/>
            </a>
        </li>
    </ul>
</nav>
