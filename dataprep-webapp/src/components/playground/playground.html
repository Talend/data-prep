<talend-modal fullscreen="true"
              state="playgroundCtrl.showPlayground"
              close-button="true"
              on-close="playgroundCtrl.close()">
    <div class="modal-header">
        <ul>
            <li translate="FILE_DETAILS" translate-value-name="{{playgroundCtrl.metadata.name}}" translate-value-records="{{playgroundCtrl.metadata.records}}"></li>
            <li class="export">
                <export></export>
            </li>
        </ul>

        <div class="previewBadge" ng-show="playgroundCtrl.previewInProgress">
            <img src="assets/images/eye.svg" alt="Blue Square" height="24px" class="previewBadgeElement"/>
            <span class="previewBadgeElement">Preview</span>
        </div>
    </div>

    <div class="modal-body playground">
        <talend-slidable visible="playgroundCtrl.showRecipe" class="flex-side recipe">
            <!-- Recipe Header -->
            <div class="steps-header">
                <label class="label-switch" ng-show="playgroundCtrl.hasRecipe">
                    <input type="checkbox"
                           ng-model='playgroundCtrl.hasActiveStep'
                           ng-change='playgroundCtrl.toggleRecipe()'/>
                    <div class="checkbox"></div>
                </label>

                <div ng-show="!playgroundCtrl.editionMode">
                    <span class="title">{{playgroundCtrl.preparationName}}</span>
                    <a class="edit-btn" data-icon="a" ng-click="playgroundCtrl.toggleEditionMode()"></a>
                    <!--<button class="edit-btn" ng-click="playgroundCtrl.toggleEditionMode()"></button>-->
                </div>
                <div ng-show="playgroundCtrl.editionMode">
                    <input id="prepNameInput"
                           type="text"
                           class="discret-input"
                           placeholder="{{::'ENTER_PREPARATION_NAME' | translate}}"
                           ng-model="playgroundCtrl.preparationName"
                           ng-model-options="{updateOn: 'default blur'}" />
                    <div>
                        <a class="check-btn" data-icon="c" ng-click="playgroundCtrl.confirmPrepNameEdition()"></a>
                        <a class="cancel-btn" data-icon="d" ng-click="playgroundCtrl.cancelPrepNameEdition()"></a>
                    </div>
                    <!--<button class="check-btn" ng-click="playgroundCtrl.confirmPrepNameEdition()"></button>-->
                    <!--<button class="cancel-btn" ng-click="playgroundCtrl.cancelPrepNameEdition()"></button>-->
                </div>

            </div>

            <!-- Recipe -->
            <recipe metadata="playgroundCtrl.metadata"></recipe>
        </talend-slidable>

        <div class="playground-center">
            <filter-list></filter-list>

            <div class="datagrid-container">
                <datagrid></datagrid>
            </div>
        </div>

        <talend-slidable visible="true" side="right" class="flex-side suggestions">
            <suggestions></suggestions>
        </talend-slidable>
    </div>
</talend-modal>
